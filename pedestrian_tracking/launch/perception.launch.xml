<launch>

    <arg name="launch_zed" default="true" description="Start the zed camera. Options: false, true"/>
    <arg name="zed_location" default="external" description="Location of the zed. Options: external, onboard"/>
    <arg name="simulate" default="false" description="Simulate a pedestrian. Options: false, true"/>

    <!-- Start streaming from ZED -->
    <include file="$(find-pkg-share pedestrian_tracking)/launch/zed.launch.xml" 
             if="$(eval '\'$(var launch_zed)\' == \'true\'')">
      <arg name="zed_location" value="$(var zed_location)" />
    </include>

    <!-- launch simulated pedestrian node -->
    <node pkg="pedestrian_tracking" exec="simulate_pedestrians" if="$(eval '\'$(var simulate)\' == \'true\'')">
    </node>

    <!-- publish pedestrian markers -->
    <node pkg="pedestrian_tracking" exec="show_pedestrians">
    </node>

</launch>
